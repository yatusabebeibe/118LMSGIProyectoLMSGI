<!DOCTYPE html>
<html lang="es">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Ejemplo 8 DOM</title>
      <link rel="stylesheet" href="css/estilos.css" />
    </head>
  <body>
    <h1>Ejemplo 8 DOM: Crear tabla</h1>
    <label for="filas">Número de filas:</label>
    <input type="number" id="filas" min="1" max="10" value="2">  
    <label for="numerocolumnas">Número de columnas:</label>
    <input type="number" id="numerocolumnas"  min="1" max="10" value="2">
    <input type="button" value="Genera una tabla" onclick="genera_tabla()" />
  </body>
  <script>
    function genera_tabla() {
      // getElementsByTagName devuelve una colección de elementos, aquí seleccionamos el primero <body>
      var body = document.getElementsByTagName("body")[0];

      // getElementById obtiene el valor de los inputs para filas y columnas (es string)
      var filas = document.getElementById("filas").value;
      var columnas = document.getElementById("numerocolumnas").value;

      console.log(filas + " " + columnas); // Mostrar valores en consola para depurar

      // Se limpia el contenido del body y se vuelve a poner el HTML inicial con inputs y botón
      body.innerHTML = '<h1>Ejemplo 8 DOM: Crear tabla</h1>\n<label for="filas">Número de filas:</label>\n<input type="number" id="filas" min="1" max="10" value="2">\n<label for="numerocolumnas">Número de columnas:</label>\n<input type="number" id="numerocolumnas"  min="1" max="10" value="2">\n<input type="button" value="Genera una tabla" onclick="genera_tabla()" />';
      // createElement crea un nuevo elemento del tipo especificado
      var tabla = document.createElement("table");
      var tbody = document.createElement("tbody");

      // Bucle para crear filas (tr)
      for (let f = 0; f < filas; f++) {
        var tr = document.createElement("tr");
        // Bucle anidado para crear columnas (td) dentro de cada fila
        for (let c = 0; c < columnas; c++) {
          var td = document.createElement("td");
          // createTextNode crea un nodo de texto que luego se añade a la celda
          var textoCelda = document.createTextNode("Fila: " + f + ", Columna: " + c);
          td.appendChild(textoCelda); // añadir texto dentro de <td>
          tr.appendChild(td);          // añadir <td> a la fila <tr>
        }
        tbody.appendChild(tr);         // añadir la fila al cuerpo de la tabla
      }
      tabla.appendChild(tbody);        // añadir cuerpo a la tabla
      body.appendChild(tabla);         // añadir tabla al body del documento

      // setAttribute añade un atributo al elemento, aquí borde de 2px a la tabla
      tabla.setAttribute("border", "2");
    }
  </script>
  </html>